@page
@model Educational_Platform_Front_End.Pages.Dashboard.IndexModel
@{
    ViewData["Title"] = "Dashboard";
}

@section Styles {
    <link rel="stylesheet" href="~/css/dashboard.css" asp-append-version="true" />
}

<section class="section">
    <div class="container">
        <div class="flex justify-between items-center mb-8">
            <div>
                <p class="text-small text-muted">Welcome back</p>
                <h1 class="heading-2">Your learning dashboard</h1>
            </div>
            <button class="btn btn--primary" type="button">Resume learning</button>
        </div>

        <div class="dashboard-enrollments">
            @if (Model.Enrollments != null && Model.Enrollments.Any())
            {
                foreach (var enrollment in Model.Enrollments)
                {
                    <div class="enrollment-card">
                        <div class="enrollment-card__info">
                            <h3 class="heading-4">@enrollment.Course.Title</h3>
                        </div>
                        <div class="enrollment-card__progress">
                            <p class="text-small">@string.Format("{0:0%}", enrollment.Progress)</p>
                            <div class="progress">
                                <div class="progress-bar" style="width: @string.Format("{0:0%}", enrollment.Progress);"></div>
                            </div>
                        </div>
                        <div class="enrollment-card__actions">
                            <a href="/Courses/Details/@enrollment.Course.Id" class="btn btn--primary">Resume Course</a>
                        </div>
                    </div>
                }
            }
            else
            {
                <p>You are not enrolled in any courses yet.</p>
            }
        </div>

    </div>
</section>