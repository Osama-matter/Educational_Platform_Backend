@page
@model ErrorModel
@{
    ViewData["Title"] = "Error";
}

<div class="error-page">
    <div class="error-page__content">
        <div class="error-page__icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
        </div>
        <h1 class="error-page__title">@Model.Title</h1>
        <p class="error-page__message">@Model.Message</p>
        
        @if (Model.ShowRequestId)
        {
            <div class="error-page__request-id">
                <span>Request ID:</span>
                <code>@Model.RequestId</code>
            </div>
        }

        <div class="error-page__actions">
            @if (Model.StatusCode == 401)
            {
                <a asp-page="/Account/Login" class="btn btn--primary">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
                        <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
                        <polyline points="10 17 15 12 10 7"></polyline>
                        <line x1="15" y1="12" x2="3" y2="12"></line>
                    </svg>
                    Log In
                </a>
            }
            else
            {
                <a asp-page="/Index" class="btn btn--primary">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    Back to Home
                </a>
            }
            <button onclick="window.location.reload()" class="btn btn--secondary">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
                    <path d="M23 4v6h-6"></path>
                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                </svg>
                Try Again
            </button>
        </div>

        @if (HttpContext.Items["DetailedError"] != null)
        {
            <div class="error-page__debug">
                <h3>Debug Information</h3>
                <pre>@HttpContext.Items["DetailedError"]</pre>
            </div>
        }
    </div>
</div>
